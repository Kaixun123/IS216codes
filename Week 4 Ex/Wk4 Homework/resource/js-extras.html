<!DOCTYPE html>

<!--
    Objectives:
        To conduct more practices to get more familiar with Javascript syntax
-->

<html>
    <head>
        <title>JS Demo</title>
    </head>

    <body>
        <p id="demo"></p>
        <button onclick="showExtra1()">Extra1!</button>
        <button onclick="showExtra2()">Extra2!</button>
        <button onclick="showExtra3()">Extra3!</button>
        <button onclick="showExtra4()">Extra4!</button>
        <button onclick="showExtra5()">Extra5!</button>
        <button onclick="showExtra6()">Extra6!</button>
        <button onclick="showExtra7()">Extra7!</button>
        <button onclick="showExtra8()">Extra8!</button>
        <button onclick="showExtra9()">Extra9!</button>
        <button onclick="showExtra10()">Extra10!</button>
        <button onclick="showExtra11()">Extra11!</button>

        <script>
            /* 1. Write a function that computes and prints out the area and circumference of a circle of a given radius. 
            The radius could be set to an int or float value. You can set the value of π to 3.14
            Note: Use Math.PI()
            
            Formulas:
            · Area of circle = π X radius2
            · Circumference of circle = π X 2 X radius 
            */
            function showExtra1() {

               // Add Code Here
            
               let p = Math.PI;
               let r = prompt("what is your radius?");

               area = p * parseFloat(r)**2;
               circumference = p * 2 * parseFloat(r);
               alert("Area of circle is " + area)
               alert("Circumference of circle is " + circumference)

            }

            /* 2. Write a function that generates a random password of 8 characters
                    For example, password -> cxqaptgh
                    Note: use Math.random(), Math.floor()
            */
            function showExtra2() {
                
               // Add Code Here
               var characters = 8;
               password = "";
               for(i=0;i<characters;i++){
                password += String.fromCharCode(Math.floor(Math.random()*26)+97)
               }
               alert("Your random password is " + password);
            }

            /* 3. In number theory, a perfect number is a positive integer that is 
                    equal to the sum of all its factors excluding itself.  
                    For example 6 is a perfect number because the sum of its factors i.e. 1 + 2 + 3 = 6
 
                    Write a function that takes in a positive integer. The function should then check 
                    if the number entered is a perfect number or not and print the result. 
                    You can assume that only positive integers are entered.
                    Some examples of perfect numbers are 6, 28, 496
            */
            function showExtra3() {
              
               // Add Code Here

               p_num = 28;
               base_num = 1;
               incr_num = 2;

               while(base_num<p_num){
                base_num = base_num + incr_num;
                incr_num++;
                
               }

               if(p_num == base_num){
                    console.log(base_num)
                    alert(p_num + " is a perfect number");
                }else{
                    console.log(base_num)
                    alert(p_num + " is not a perfect number");
                }    
               
            }


            /* 4. Write a function that converts a given integer into a binary number
                    For example, 10 -> 1010, 12 -> 1100
            */
            function showExtra4() {
                
               // Add Code Here
               num = parseInt(prompt("Please enter a number (with no decmail point)"));

               binary = num.toString(2);

               alert("The binary code for the number you given is " + binary);

            }

            /* 5. Write a function that requests the user’s name 
                    so that it displays back with the surname in capital letters 
                    and the rest of the name with first letter in uppercase. 
           
                    Assume the following:
                        a) Two adjacent words of the name is separated by 1 space
                        b) If the name has 1 word, it is the surname
                        c) If the name has 2 words, the second word is the surname
                        d) If the name has more than 2 words, the first word is always the surname

                For example, tan -> TAN, tan wee kiat -> TAN Wee Kiat, mary lim -> LIM Mary

                Hint: use toUpperCase(), charAt()
            */
            function showExtra5() {
                
               // Add Code Here

               const name = prompt("Please enter your name: ");
               const array = name.split(" ");
               new_name = "";

               console.log(array.length)

               for (i=0; i<array.length; i++){
                if(array.length == 1){
                    new_name = name.toUpperCase();
                }else if (array.length == 2){
                    array[1] = array[1].toUpperCase();
                    array[0] = array[0].charAt(0).toUpperCase() + array[0].slice(1);
                    names = array.toString();
                    new_name = names.replaceAll(",", " ");
                }else{
                    array[0] = array[0].toUpperCase();
                    array[i] = array[i].charAt(0).toUpperCase() + array[i].slice(1);
                    names = array.toString();
                    new_name = names.replaceAll(",", " ");
                }
               }

               alert("Welcome " + new_name);
               console.log(new_name);
            }


            /*  6. Write a function that asks the user to enter a string, 
                say txt, and two characters, say st and en. 
                The function then searches for a substring in txt such that 
                the substring begins with the character st and ends with the character en. 
                If there is no such substring, display the message "No such substring".

                Assume that the search is case-sensitive and only search for 
                the first occurrence of the substring

                Hint: explore indexOf, search(), includes()

                For example,
                    txt = Fibonacci series
                    st = F
                    en = b
                        ==> Substring [Fib] is found

                    txt = Fibonacci series
                    st = b
                    en = y
                        ==> No such substring

                    txt = Fibonacci series
                    st = F
                    en = F
                        ==> Substring [F] is found
            */
            function showExtra6() {
                
                // Add Code Here
                const txt = "Fibonacci Series";
                substring = txt.split("");
                str = '';

                console.log(substring);

                st = 'F';
                en = 'b';

                let indexSt = txt.indexOf(st);
                let indexEn = txt.indexOf(en);
                
                // console.log(indexEn + 1);
                // console.log(substring.includes(st))
                // console.log(substring.includes(en))

                if(txt.includes(st) && txt.includes(en)) {
                    var stIdx = txt.indexOf(st);
                    // start the search at stIdx position onwards
                    // return -1 if en is not found
                    var enIdx = txt.indexOf(en);
                    if(enIdx != -1) {
                        //re-increment operation, which means it will increment the value of enIdx by 1 before using it as the ending index. 
                        //This index is exclusive, meaning that the character at this index will not be included in the result.
                        result = "Substring [" + txt.slice(stIdx, ++enIdx) + "] is found";
                    } else {
                        result = "No such substring";
                    }       
                    
                } else {
                    result = "No such substring";
                }

                alert(result);
            }

             /* 7. Write a function that asks the user to enter two strings, 
                say str1 and str2.
                The function displays "Bingo!" if every character in str1 
                also appears in str2. Otherwise, it displays "Nope :("

                For example, 
                    str1 = daily
                    str2 = Holiday
                        => Bingo!
                    
                    str1 = lily
                    str2 = Holiday
                        => Bingo!
                    
                    str1 = pokemon
                    str2 = pogo
                        => Nope :(
                Hint: explore includes()
            */
            function showExtra7() {
                
               // Add Code Here
                var str1 = prompt("Please enter a word: ");
                var str2 = prompt("Please enter another word: ");
                // var str1 = "Holiday";
                // var str2 = "daily";
                var result = false;

                substring1 = str1.split("");
                substring2 = str2.split("");
                var largerSubstring;
                var smallerSubstring;

                if(substring1.length > substring2.length){
                    largerSubstring = substring1;
                    smallerSubstring = substring2;
                }else{
                    largerSubstring = substring2;
                    smallerSubstring = substring1;
                }
                
                console.log(largerSubstring);
                console.log(smallerSubstring);

                console.log(largerSubstring.includes(smallerSubstring.toString()))

                for(i=0; i<largerSubstring.length; i++){
                    if(largerSubstring.includes(smallerSubstring[i]) == true){
                        result = true;
                    }else{
                        result = false;
                    }
                }

                if(result = true){
                    alert("Bingo!");
                }else{
                    alert("Nope :(");
                }
                

               
            }

            /* 8. Write a function that requests two integers, 
                say min and max. 
                The function then displays all the perfect squares 
                between min and max, inclusive. 

                For example, given min=10 and max=110, 
                it displays the perfect squares – 16 25 36 49 64 81 100.

                Check that the user provides only numbers.

                Hint: explore Math.sqrt(), Math.floor(), Math.ceil(), Math.pow()
            */
            function showExtra8() {
                
               // Add Code Here
               var min = prompt("Please enter your min value ");
               var max = prompt("Please enter your max value ");
               perfectSq = [];

               for(i=min; i<max; i++){
                if(Math.ceil(Math.sqrt(i)) == Math.floor(Math.sqrt(i))){
                    perfectSq.push(i)
                }
               }

               alert("the perfect squares are: " + perfectSq);
            }

            /* 9. Write a function that gets a set of integer inputs from the user. 
                It should then display the minimum, maximum and median 
                of all numbers entered.
                Note: The median is the middle of list of numbers. 
                
                For example, median of numbers 12, 4, 5 is 5. 
                In case of odd amount of numbers, the median is the exact 
                middle number of numbers when arranged sorted. 
                In case of even amount of numbers, 
                we would get a pair of middle numbers. 
                The median is half way between them. 
                As an example, median of numbers 6, 12, 4, 10 is 8 (6 + 10) / 2 
                because when placed in order the middle numbers would be 6 and 10.

                Hint: explore split(), sort(), map()
            */
            function showExtra9() {
                
               // Add Code Here
               var txt = prompt("Please enter a set of numbers: ")
               var groupNumtxt = txt.split(" ");
               var groupNum = [];
               
               for(i=0; i<groupNumtxt.length; i++){
                groupNum.push(parseInt(groupNumtxt[i]));
                if(groupNum.push(parseInt(groupNumtxt[i])) == NaN){
                    return alert("You have entered a non-integer");
                }
               }

               if(groupNum.includes(NaN)){
                return alert("You have entered a non-integer");
               }else{
                 groupNum.sort(function(a, b){return a - b});
               
                //get the max number in the array
                max = groupNum[groupNum.length-1];

                //get the min number in the array
                min = groupNum[0];

                const mid = Math.floor(groupNum.length / 2);
                
                if (groupNum.length % 2 === 0) {
                        median = (groupNum[mid - 1] + groupNum[mid]) / 2;
                    } else {
                        median = groupNum[mid];
                    }

                 return alert("Max: " + max + ", Min: " + min + ", Median: " + median);
                }

              

               
            }

            /* 10. Write a function that merges two arrays of objects, representing persons. 
                   Each person object has name and age properties.
                    For example, name="John", age=29
                  
                    The function merges the two arrays into a single array in which 
                    the persons are ordered by their age.

                    Note: Create your own arrays of objects in the function. Assume that names are unique
                    Hint: explore concat()
            */
            function showExtra10() {

                var persons1 = [{name:"John",age:29}, {name:"Jesper",age:21}, {name:"Jack", age:40}];
                var persons2 = [{name:"Mary",age:23}, {name:"Jennifer",age:32}];
                
               // Add Code Here
               var persons = persons1.concat(persons2).sort(function(a, b){return a.age - b.age});

               console.log(persons);
               
            }

            /* 11. Write a function that computes the total amount to be paid, 
                    based on an array of purchase items.
                    A purchase item is an object, having name and price properties.
                    For example, name="pencil", price=1.25
                
                    Note: Create your own arrays of objects in the function. 
            */
            function showExtra11() {
                
               // Add Code Here
               var items = [{name:"pencil",price:1.25}, {name:"book",price:5}, {name:"pen",price:2.50}]
               var itemPrice = []
               var total = 0;

               for(i=0; i<items.length; i++){
                itemPrice.push(items[i].price)
               }

               for(i=0;i<itemPrice.length;i++){
                total += itemPrice[i];
               }
               
               alert("The total will be " + total);

               console.log(total);
            }

        </script>
    </body>
    

</html>